<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empire Slots</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #121212; color: #fff; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; overflow: hidden; }
        .slot-machine { background: linear-gradient(145deg, #1e1e1e, #111); border: 4px solid #d4af37; border-radius: 20px; padding: 20px; box-shadow: 0 0 20px rgba(212, 175, 55, 0.3); }
        .reels { display: flex; gap: 10px; margin-bottom: 20px; }
        .reel { width: 80px; height: 100px; background: #000; border: 2px solid #333; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 3rem; overflow: hidden; position: relative; }
        .symbol { position: absolute; transition: transform 0.1s ease-in-out; }
        .btn { background: linear-gradient(45deg, #d4af37, #f1c40f); border: none; padding: 15px 40px; color: #000; font-weight: bold; border-radius: 50px; cursor: pointer; font-size: 1.2rem; box-shadow: 0 4px 15px rgba(241, 196, 15, 0.4); }
        .btn:disabled { background: #555; box-shadow: none; cursor: not-allowed; }
        .status { margin-top: 20px; font-size: 1.2rem; color: #f1c40f; height: 1.5rem; }
    </style>
</head>
<body>

    <h2 style="color: #d4af37; letter-spacing: 2px;">EMPIRE SLOTS</h2>

    <div class="slot-machine">
        <div class="reels">
            <div id="reel1" class="reel">üíé</div>
            <div id="reel2" class="reel">üíé</div>
            <div id="reel3" class="reel">üíé</div>
        </div>
        <button id="spin-btn" class="btn" onclick="spin()">–ö–†–£–¢–ò–¢–¨</button>
    </div>

    <div id="status" class="status"></div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        const symbols = ['üíé', 'üé∞', 'üî•', 'üëë', 'üçí', 'üåü'];
        const reels = [
            document.getElementById('reel1'),
            document.getElementById('reel2'),
            document.getElementById('reel3')
        ];
        const statusText = document.getElementById('status');
        const spinBtn = document.getElementById('spin-btn');

        function spin() {
            spinBtn.disabled = true;
            statusText.innerText = "–£–¥–∞—á–∞ —É–ª—ã–±–∞–µ—Ç—Å—è...";
            
            let spins = 0;
            const maxSpins = 20;
            
            const interval = setInterval(() => {
                reels.forEach(reel => {
                    reel.innerText = symbols[Math.floor(Math.random() * symbols.length)];
                });
                spins++;

                if (spins >= maxSpins) {
                    clearInterval(interval);
                    checkWin();
                }
            }, 100);
        }

        function checkWin() {
            const results = reels.map(reel => reel.innerText);
            spinBtn.disabled = false;

            if (results[0] === results[1] && results[1] === results[2]) {
                statusText.innerText = "üéâ –î–ñ–ï–ö–ü–û–¢! –í–´ –í–´–ò–ì–†–ê–õ–ò!";
                tg.HapticFeedback.notificationOccurred('success');
            } else if (results[0] === results[1] || results[1] === results[2] || results[0] === results[2]) {
                statusText.innerText = "üí∞ –ú–∞–ª—ã–π –ø—Ä–∏–∑!";
                tg.HapticFeedback.impactOccurred('medium');
            } else {
                statusText.innerText = "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑";
            }
        }
    </script>
</body>
</html>
