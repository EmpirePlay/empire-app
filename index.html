<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Empire Casino Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --gold: #d4af37; --bg: #0f0f0f; --panel: #1a1a1a; --text: #ffffff; }
        body { background: var(--bg); color: var(--text); font-family: sans-serif; margin: 0; padding: 0; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        /* –ë–∞–ª–∞–Ω—Å –∏ –®–∞–ø–∫–∞ */
        .top-bar { padding: 15px; display: flex; justify-content: space-between; align-items: center; background: var(--panel); border-bottom: 1px solid #333; }
        .balance-box { background: #000; padding: 5px 15px; border-radius: 20px; border: 1px solid var(--gold); color: var(--gold); font-weight: bold; }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫ */
        .tab-content { flex: 1; display: none; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
        .tab-content.active { display: flex; }

        /* –°–ª–æ—Ç-–º–∞—à–∏–Ω–∞ */
        .reels { display: flex; gap: 10px; margin: 20px 0; }
        .reel { width: 70px; height: 90px; background: #000; border: 2px solid #333; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; }
        
        /* –ö–Ω–æ–ø–∫–∏ –∏ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ */
        .btn { background: var(--gold); color: #000; border: none; padding: 15px 40px; border-radius: 12px; font-weight: bold; width: 100%; max-width: 250px; }
        .settings-list { width: 100%; max-width: 300px; }
        .setting-item { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #333; }
        select { background: #333; color: #fff; border: 1px solid var(--gold); padding: 5px; border-radius: 5px; }

        /* –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é */
        .bottom-nav { display: flex; background: var(--panel); border-top: 1px solid #333; padding: 10px 0; }
        .nav-item { flex: 1; text-align: center; color: #777; font-size: 0.8rem; cursor: pointer; }
        .nav-item.active { color: var(--gold); }
        .nav-icon { font-size: 1.5rem; display: block; }
    </style>
</head>
<body>

    <div class="top-bar">
        <span id="label-app">EMPIRE APP</span>
        <div class="balance-box">üí∞ <span id="balance">1000</span> ‚òÖ</div>
    </div>

    <div id="game-tab" class="tab-content active">
        <div class="reels">
            <div id="r1" class="reel">üíé</div>
            <div id="r2" class="reel">üíé</div>
            <div id="r3" class="reel">üíé</div>
        </div>
        <button class="btn" id="btn-spin" onclick="spin()">–ö–†–£–¢–ò–¢–¨</button>
        <p id="status"></p>
    </div>

    <div id="settings-tab" class="tab-content">
        <h2 id="label-settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
        <div class="settings-list">
            <div class="setting-item">
                <span id="label-lang">–Ø–∑—ã–∫</span>
                <select id="langSelect" onchange="changeLang()">
                    <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                    <option value="en">English</option>
                </select>
            </div>
            <div class="setting-item">
                <span id="label-vibrate">–í–∏–±—Ä–∞—Ü–∏—è</span>
                <input type="checkbox" id="vibrateCheck" checked onchange="saveSettings()">
            </div>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="nav-item active" id="nav-game" onclick="showTab('game')">
            <span class="nav-icon">üéÆ</span> <span id="nav-label-game">–ò–≥—Ä–∞</span>
        </div>
        <div class="nav-item" id="nav-settings" onclick="showTab('settings')">
            <span class="nav-icon">‚öôÔ∏è</span> <span id="nav-label-settings">–û–ø—Ü–∏–∏</span>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        const langData = {
            ru: { app: "EMPIRE APP", game: "–ò–≥—Ä–∞", settings: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏", lang: "–Ø–∑—ã–∫", vibrate: "–í–∏–±—Ä–∞—Ü–∏—è", spin: "–ö–†–£–¢–ò–¢–¨", status: "–ò—Å–ø—ã—Ç–∞–π —É–¥–∞—á—É!" },
            en: { app: "EMPIRE APP", game: "Game", settings: "Settings", lang: "Language", vibrate: "Vibration", spin: "SPIN", status: "Good luck!" }
        };

        function showTab(tab) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(tab + '-tab').classList.add('active');
            document.getElementById('nav-' + tab).classList.add('active');
        }

        function saveSettings() {
            const settings = {
                lang: document.getElementById('langSelect').value,
                vibrate: document.getElementById('vibrateCheck').checked
            };
            localStorage.setItem('empire_settings', JSON.stringify(settings));
        }

        function changeLang() {
            const lang = document.getElementById('langSelect').value;
            const d = langData[lang];
            document.getElementById('label-app').innerText = d.app;
            document.getElementById('nav-label-game').innerText = d.game;
            document.getElementById('nav-label-settings').innerText = d.settings;
            document.getElementById('label-settings').innerText = d.settings;
            document.getElementById('label-lang').innerText = d.lang;
            document.getElementById('label-vibrate').innerText = d.vibrate;
            document.getElementById('btn-spin').innerText = d.spin;
            saveSettings();
        }

        function spin() {
            const isVibrate = document.getElementById('vibrateCheck').checked;
            if(isVibrate) tg.HapticFeedback.impactOccurred('medium');
            
            const icons = ['üíé', 'üé∞', 'üåü', 'üçí'];
            const r1 = icons[Math.floor(Math.random()*4)];
            const r2 = icons[Math.floor(Math.random()*4)];
            const r3 = icons[Math.floor(Math.random()*4)];
            
            document.getElementById('r1').innerText = r1;
            document.getElementById('r2').innerText = r2;
            document.getElementById('r3').innerText = r3;

            if(r1 === r2 && r2 === r3 && isVibrate) tg.HapticFeedback.notificationOccurred('success');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        const saved = JSON.parse(localStorage.getItem('empire_settings'));
        if(saved) {
            document.getElementById('langSelect').value = saved.lang;
            document.getElementById('vibrateCheck').checked = saved.vibrate;
            changeLang();
        }
    </script>
</body>
</html>
